<!--
    Daltro Augusto's Portfolio
    Copyright (C) 2021  Daltro Augusto

    This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.

    This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License for more details.

    You should have received a copy of the GNU General Public License along with this program.  If not, see <https://www.gnu.org/licenses/>.
-->
<!DOCTYPE html>
<html>

<head>
  <title string="article.title + ' | Assistto'"></title>

  <meta name="viewport" content="user-scalable=no, width=device-width, initial-scale=1.0" />

  <link rel="stylesheet" href="assets/fa/css/fontawesome.min.css" />
  <link rel="stylesheet" href="assets/fa/css/solid.min.css" />
  <link rel="stylesheet" href="assets/fa/css/brands.min.css" />
  <link rel="stylesheet" href="assets/animate/animate.min.css" />

  <link rel="stylesheet" href="css/article.css" />
  <link rel="stylesheet" href="css/protectedArticle.css" />

  <script src="assets/argon2/argon2-bundled.min.js"></script>
  <script src="assets/cryptojs/crypto-js.min.js"></script>
  <script src="assets/polyfill-smoothscroll.min.js"></script>

  <script>
    // jquery-free
    const $ = (e) => document.querySelector(e);
    const $$ = (e) => document.querySelectorAll(e);
    const $keyPass = '$argon2id$v=19$m=1024,t=3,p=1$YXNzaXN0dG9ieWRhbHRyb2F1Z3VzdG8$cIZ0LRsUdr3wCIzgQEMWxnr7xQFb2wDSWub3KleMiI6DPRjFBPR+YFs2eyARHY+Kph6Ibk3A4VcovnDkQ58WSG0B3jGlkDkodc7EqTEG7cgxsBNyNtRoOkkPnCBle+h5BrNnLv6iALQ52HDlycMx1/wpL5B8eryPGlhU8yO6HHCmf3KeKkgk67dWo1TgPR0Fy/hpLkeETqPsQm+tzWZcxQD2K8CCEywK84fWP1IZdqFd82T6CoMuYUW8vNIZfZyxDOIrVAEnjE1Vs/NRXb6HCVZbshjAzJmTMxj8p0fOy0cVk5HamA71+xm0kgMSdmXkDpp0AylbY61CxbDITHB9yg';

    window.pagename = 'article';
  </script>

  <script type="module">
    import { loadLocale } from './js/locales.mjs';
    import crypto from './js/cryptoArticle.mjs';
    // passwd is potatoisgood

    const wrongPasswd = () => {
      $('div.wrongPasswd').style.visibility = 'visible';
    },
      showArticle = (corpus) => {
        $('section#auth').className = 'animate__animated animate__fadeOut animate__faster';
        $('article').style.opacity = 0;
        $('article').style.display = 'block';
        $('.content').insertAdjacentHTML('afterBegin', corpus);

        $('section#auth').onanimationend = (e) => {
          e.target.outerHTML = '';
          $('article').style.opacity = 1;
        };
      };

    fetch('./assets/articles/p-article1.txt')
      .then(r => {
        r.text().then(encoded => {
          $('#articlePasswd').style.visibility = 'visible';
          crypto.setPasswdInputElement($('#articlePasswd'), $keyPass, encoded, showArticle, wrongPasswd);
        });
      });

    loadLocale();
  </script>

  <script type="module" src="js/locales.mjs"></script>
  <script defer src="js/fixedHeader.js"></script>
</head>

<body>
  <header hamburguerExpanded="false" class="innerMenu">
    <div style="display: none;" class="innerMenu">
      <div class="logoWrap">
        <img src="assets/imgs/logo.png" />
      </div>
      <div class="menu">
        <nav>
          <ul>
            <a href="index.html">
              <li string="learn.menu1"></li>
            </a>
            <a href="learn.html">
              <li string="home.menu1"></li>
            </a>
            <a href="#ourHistory">
              <li string="home.menu2"></li>
            </a>
          </ul>
        </nav>
      </div>
    </div>
  </header>

  <main>
    <section id="auth">
      <h1 string="article2.passwordTitle"></h1>
      <h2 string="article2.passwordSub"></h2>
      <input type="password" id="articlePasswd" placeholderstring="article2.passwordPlaceholder" />
      <div class="wrongPasswd">
        <i class="fas fa-shield-alt"></i>
        <span string="article2.wrongpass"></span>
      </div>
    </section>

    <article>
      <header>
        <h1 string="article.title"></h1>
        <div class="info">
          <img src="assets/imgs/author1.png" />
          <span>M. Karenina</span>

          <i class="fas fa-square-full"></i>
          <span string="article.date"></span>

          <i class="fas fa-square-full"></i>
          <span string="article.ttr"></span>
        </div>
      </header>

      <div class="content">

      </div>

      <div class="contentFooter">
        <div class="left">
          <span>1 coment√°rio</span>
        </div>

        <div class="right">
          <div class="sharing-buttons">
            <ul class="share-buttons" data-source="simplesharingbuttons.com">
              <li><a href="https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Flocalhost&quote=" target="_blank"
                  title="Share on Facebook"
                  onclick="window.open('https://www.facebook.com/sharer/sharer.php?u=' + encodeURIComponent(document.URL) + '&quote=' + encodeURIComponent(document.URL)); return false;"><i
                    class="fab fa-facebook-square fa-2x" aria-hidden="true"></i><span class="sr-only">Share on
                    Facebook</span></a></li>
              <li><a
                  href="https://twitter.com/intent/tweet?source=http%3A%2F%2Flocalhost&text=:%20http%3A%2F%2Flocalhost"
                  target="_blank" title="Tweet"
                  onclick="window.open('https://twitter.com/intent/tweet?text=' + encodeURIComponent(document.title) + ':%20' + encodeURIComponent(document.URL)); return false;"><i
                    class="fab fa-twitter-square fa-2x" aria-hidden="true"></i><span class="sr-only">Tweet</span></a>
              </li>
              <li><a
                  href="http://www.linkedin.com/shareArticle?mini=true&url=http%3A%2F%2Flocalhost&title=&summary=&source=http%3A%2F%2Flocalhost"
                  target="_blank" title="Share on LinkedIn"
                  onclick="window.open('http://www.linkedin.com/shareArticle?mini=true&url=' + encodeURIComponent(document.URL) + '&title=' +  encodeURIComponent(document.title)); return false;"><i
                    class="fab fa-linkedin fa-2x" aria-hidden="true"></i><span class="sr-only">Share on
                    LinkedIn</span></a></li>
              <li><a href="mailto:?subject=&body=:%20http%3A%2F%2Flocalhost" target="_blank" title="Send email"
                  onclick="window.open('mailto:?subject=' + encodeURIComponent(document.title) + '&body=' +  encodeURIComponent(document.URL)); return false;"><i
                    class="fas fa-envelope-square fa-2x" aria-hidden="true"></i><span class="sr-only">Send
                    email</span></a></li>
            </ul>
          </div>
        </div>
      </div>
    </article>
  </main>

  <footer>
    <div class="credits">
      <span string="footer[0]"></span>
      <br />
      <span string="footer[1]"></span>

      <span class="libraries-used" string="footer[2]"></span>
      <img src="assets/imgs/gplv3.png" class="licenseLogo" />
    </div>
    <div class="info">
      <i class="fas fa-phone-alt"></i><span>+55 55 91234-5678</span>
      <br /><i class="fas fa-map-marked-alt"></i><span string="footer[3]"></span>
      <br /><i class="fas fa-city"></i><span string="footer[4]"></span>

      <br /><br />
      <div class="media-links">
        <i class="fab fa-behance-square"></i>
        <i class="fab fa-twitter-square"></i>
        <i class="fab fa-facebook-square"></i>
      </div>
    </div>
  </footer>
</body>

</html>